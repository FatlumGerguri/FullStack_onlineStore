{"remainingRequest":"C:\\Users\\fatlu\\Desktop\\Met\\Store\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\fatlu\\Desktop\\Met\\Store\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\fatlu\\Desktop\\Met\\Store\\frontend\\src\\store\\product\\actions.js","dependencies":[{"path":"C:\\Users\\fatlu\\Desktop\\Met\\Store\\frontend\\src\\store\\product\\actions.js","mtime":1652024948245},{"path":"C:\\Users\\fatlu\\Desktop\\Met\\Store\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651149674000},{"path":"C:\\Users\\fatlu\\Desktop\\Met\\Store\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1651149682000},{"path":"C:\\Users\\fatlu\\Desktop\\Met\\Store\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1651149674000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly9BeGlvcyBvbiBOUE0tcGFrZXR0aSBIVFRQLXB5eW50w7ZqZW4gdGVrZW1pc2VlbiBtZWlkw6Qgbm9kZSBwYXRoIGthdXR0YS4KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsgLy8gSGFrZSBrYWlra2kgdHVvdHRlZXQgdGlldG9rYW5uYXN0YSB0YWkgZmFrZSBBUEk6c3RhCgpleHBvcnQgZnVuY3Rpb24gZ2V0UHJvZHVjdHMoX3JlZikgewogIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAvLyAgVGVzdGluIHZhcnRlbiBrw6R5dGV0aWluIHTDpHN0w6QgbGlua2lzdMOkIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wcm9kdWN0IGhha2VlIHR1b3R0ZWl0YSBGQUtFIEFQSTpzdGEsIGpvc3NhIHNlIHNpamFpdHNlZSwgcGFsdmVsaW1lbGxlbW1lIGVsaSBiYWNrZW5kIGthbnNpb3NzYQogIC8vICBuaW1lbGzDpCBiYWNrZW5kL0FQSS9mYWtlQVBpLWpzb24uanNvbgogIC8vICBhamFhIG9oamVsbWFhOiBqc29uLXNlcnZlciAtLXdhdGNoIGZha2VBUGktanNvbi5qc29uCiAgLy8gVMOkc3TDpCBsaW5raXN0YTogaHR0cDovL2xvY2FsaG9zdDo4MDAwL3Byb2R1Y3QgaGFrZWUgdGllZG90IHNlcnZlcmlsdGEgam90a2EgdGllZG90IGzDtnl0eXkgbXnDtnMgdGlldG9rYW50YQogIHZhciB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDAwL3Byb2R1Y3QnOwogIGF4aW9zLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICBjb21taXQoJ3NldFByb2R1Y3RzJywgcmVzcG9uc2UuZGF0YSk7CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgfSk7Cn0gLy9oYWtlZSB0dW90ZXRpZXRvamEgcGFsdmVsaW1lbHRhL3RpZXRva2FubmFzdGEgamEgZXNpdHRlbGUgc2UgdmVya29zc2EKCmV4cG9ydCBmdW5jdGlvbiBwcm9kdWN0RGV0YWlscyhfcmVmMiwgaWQpIHsKICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogIHZhciB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDAwL3Byb2R1Y3QvJzsKICBheGlvcy5nZXQodXJsLCB7CiAgICBwYXJhbXM6IHsKICAgICAgaWQ6IGlkCiAgICB9CiAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgIGNvbW1pdCgnc2V0UHJvZHVjdCcsIHJlc3BvbnNlLmRhdGFbMF0pOwogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgY29uc29sZS5sb2coZXJyb3IpOwogIH0pOwp9IC8vTGFpdGEgdmFsaXRzZW1hc2kgdHVvdHRlZXQgb3N0b2tvcmlpbgoKZXhwb3J0IGZ1bmN0aW9uIGFkZENhcnQoX3JlZjMsIHBheWxvYWQpIHsKICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0LAogICAgICBnZXR0ZXJzID0gX3JlZjMuZ2V0dGVyczsKICB2YXIgY2FydCA9IGdldHRlcnMuY2FydDsKICB2YXIgZGF0YSA9IHBheWxvYWQucHJvZHVjdDsKICBkYXRhWydxdWFudGl0eSddID0gcGF5bG9hZC5xdWFudGl0eTsKICBjYXJ0LnB1c2goZGF0YSk7CiAgY29tbWl0KCdzZXRDYXJ0JywgY2FydCk7Cn0gLy8gUG9pc3RhIHZhbGl0c2VtYXNpIHR1b3R0ZWV0IG9zdG9za29yaXN0YQoKZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNhcnQoX3JlZjQsIGlkKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdCwKICAgICAgZ2V0dGVycyA9IF9yZWY0LmdldHRlcnM7CiAgdmFyIGNhcnQgPSBbXTsKCiAgaWYgKGlkKSB7CiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZ2V0dGVycy5jYXJ0Lmxlbmd0aDsgaW5kZXgrKykgewogICAgICB2YXIgZWxlbWVudCA9IGdldHRlcnMuY2FydFtpbmRleF07CgogICAgICBpZiAoZWxlbWVudC5pZCAhPT0gaWQpIHsKICAgICAgICBjYXJ0LnB1c2goZWxlbWVudCk7CiAgICAgIH0KICAgIH0KICB9CgogIGNvbW1pdCgnc2V0Q2FydCcsIGNhcnQpOwp9"},{"version":3,"sources":["C:/Users/fatlu/Desktop/Met/Store/frontend/src/store/product/actions.js"],"names":["axios","getProducts","commit","url","get","then","response","data","catch","error","console","log","productDetails","id","params","addCart","payload","getters","cart","product","quantity","push","removeCart","index","length","element"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,SAASC,WAAT,OAA+B;AAAA,MAATC,MAAS,QAATA,MAAS;AACpC;AACA;AACA;AAIA;AACA,MAAIC,GAAG,GAAG,+BAAV;AACAH,EAAAA,KAAK,CAACI,GAAN,CAAUD,GAAV,EAAeE,IAAf,CAAoB,UAACC,QAAD,EAAc;AAChCJ,IAAAA,MAAM,CAAC,aAAD,EAAgBI,QAAQ,CAACC,IAAzB,CAAN;AACD,GAFD,EAEGC,KAFH,CAES,UAAAC,KAAK,EAAI;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,GAJD;AAKD,C,CAED;;AACA,OAAO,SAASG,cAAT,QAAkCC,EAAlC,EAAsC;AAAA,MAAbX,MAAa,SAAbA,MAAa;AAC3C,MAAIC,GAAG,GAAG,gCAAV;AACAH,EAAAA,KAAK,CAACI,GAAN,CAAUD,GAAV,EAAe;AAACW,IAAAA,MAAM,EAAE;AAACD,MAAAA,EAAE,EAAEA;AAAL;AAAT,GAAf,EAAmCR,IAAnC,CAAwC,UAACC,QAAD,EAAc;AACpDJ,IAAAA,MAAM,CAAC,YAAD,EAAeI,QAAQ,CAACC,IAAT,CAAc,CAAd,CAAf,CAAN;AACD,GAFD,EAEGC,KAFH,CAES,UAASC,KAAT,EAAgB;AACvBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,GAJD;AAKD,C,CAED;;AACA,OAAO,SAASM,OAAT,QAAoCC,OAApC,EAA6C;AAAA,MAA3Bd,MAA2B,SAA3BA,MAA2B;AAAA,MAAnBe,OAAmB,SAAnBA,OAAmB;AAClD,MAAIC,IAAI,GAAGD,OAAO,CAACC,IAAnB;AACA,MAAIX,IAAI,GAAGS,OAAO,CAACG,OAAnB;AACAZ,EAAAA,IAAI,CAAC,UAAD,CAAJ,GAAmBS,OAAO,CAACI,QAA3B;AACAF,EAAAA,IAAI,CAACG,IAAL,CAAUd,IAAV;AACAL,EAAAA,MAAM,CAAC,SAAD,EAAYgB,IAAZ,CAAN;AACD,C,CAED;;AACA,OAAO,SAASI,UAAT,QAAuCT,EAAvC,EAA2C;AAAA,MAAtBX,MAAsB,SAAtBA,MAAsB;AAAA,MAAde,OAAc,SAAdA,OAAc;AAChD,MAAIC,IAAI,GAAG,EAAX;;AACA,MAAIL,EAAJ,EAAQ;AACN,SAAK,IAAIU,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGN,OAAO,CAACC,IAAR,CAAaM,MAAzC,EAAiDD,KAAK,EAAtD,EAA0D;AACxD,UAAME,OAAO,GAAGR,OAAO,CAACC,IAAR,CAAaK,KAAb,CAAhB;;AACA,UAAIE,OAAO,CAACZ,EAAR,KAAeA,EAAnB,EAAuB;AACrBK,QAAAA,IAAI,CAACG,IAAL,CAAUI,OAAV;AACD;AACF;AACF;;AACDvB,EAAAA,MAAM,CAAC,SAAD,EAAYgB,IAAZ,CAAN;AACD","sourcesContent":["//Axios on NPM-paketti HTTP-pyyntöjen tekemiseen meidä node path kautta.\r\nimport axios from 'axios';\r\n\r\n// Hake kaikki tuotteet tietokannasta tai fake API:sta\r\nexport function getProducts({commit}) {\r\n  //  Testin varten käytetiin tästä linkistä http://localhost:3000/product hakee tuotteita FAKE API:sta, jossa se sijaitsee, palvelimellemme eli backend kansiossa\r\n  //  nimellä backend/API/fakeAPi-json.json\r\n  //  ajaa ohjelmaa: json-server --watch fakeAPi-json.json\r\n\r\n\r\n\r\n  // Tästä linkista: http://localhost:8000/product hakee tiedot serverilta jotka tiedot löytyy myös tietokanta\r\n  let url = 'http://localhost:8000/product';\r\n  axios.get(url).then((response) => {\r\n    commit('setProducts', response.data);\r\n  }).catch(error => {\r\n    console.log(error);\r\n  });\r\n}\r\n\r\n//hakee tuotetietoja palvelimelta/tietokannasta ja esittele se verkossa\r\nexport function productDetails({commit}, id) {\r\n  let url = 'http://localhost:8000/product/';\r\n  axios.get(url, {params: {id: id}}).then((response) => {\r\n    commit('setProduct', response.data[0]);\r\n  }).catch(function(error) {\r\n    console.log(error);\r\n  });\r\n}\r\n\r\n//Laita valitsemasi tuotteet ostokoriin\r\nexport function addCart({commit, getters}, payload) {\r\n  let cart = getters.cart;\r\n  let data = payload.product;\r\n  data['quantity'] = payload.quantity;\r\n  cart.push(data);\r\n  commit('setCart', cart);\r\n}\r\n\r\n// Poista valitsemasi tuotteet ostoskorista\r\nexport function removeCart({commit, getters}, id) {\r\n  let cart = [];\r\n  if (id) {\r\n    for (let index = 0; index < getters.cart.length; index++) {\r\n      const element = getters.cart[index];\r\n      if (element.id !== id) {\r\n        cart.push(element);\r\n      }\r\n    }\r\n  }\r\n  commit('setCart', cart);\r\n}\r\n"]}]}